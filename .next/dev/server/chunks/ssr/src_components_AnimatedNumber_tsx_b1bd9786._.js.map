{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projectreact/upmap-nextjs/src/components/AnimatedNumber.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, useRef } from 'react';\r\n\r\ntype AnimatedNumberProps = {\r\n  value: number;\r\n  duration?: number;\r\n  suffix?: string;\r\n  postfix?: string;\r\n  className?: string;\r\n};\r\n\r\nexport function AnimatedNumber({ value, duration = 1800, suffix = '', postfix = '', className = '' }: AnimatedNumberProps) {\r\n  const isMobile = typeof window !== 'undefined' && window.matchMedia('(max-width: 767px)').matches;\r\n  const [display, setDisplay] = useState(isMobile ? value : 0);\r\n  const [started, setStarted] = useState(isMobile);\r\n  const ref = useRef<HTMLSpanElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (isMobile) return;\r\n    const node = ref.current;\r\n    if (!node) return;\r\n    let observer: IntersectionObserver | null = null;\r\n    function handleIntersect(entries: IntersectionObserverEntry[]) {\r\n      if (entries[0].isIntersecting) {\r\n        setStarted(true);\r\n        if (observer) observer.disconnect();\r\n      }\r\n    }\r\n    observer = new window.IntersectionObserver(handleIntersect, { threshold: 0.4 });\r\n    observer.observe(node);\r\n    return () => observer && observer.disconnect();\r\n  }, [isMobile]);\r\n\r\n  useEffect(() => {\r\n    if (isMobile || !started) return;\r\n    let startTime: number | null = null;\r\n    function animate(ts: number) {\r\n      if (!startTime) startTime = ts;\r\n      const progress = Math.min((ts - startTime) / duration, 1);\r\n      const current = Math.floor(progress * value);\r\n      setDisplay(current);\r\n      if (progress < 1) {\r\n        requestAnimationFrame(animate);\r\n      } else {\r\n        setDisplay(value);\r\n      }\r\n    }\r\n    requestAnimationFrame(animate);\r\n  }, [started, value, duration, isMobile]);\r\n\r\n  return (\r\n    <span ref={ref} className={className}>\r\n      {display}\r\n      {suffix}\r\n      {postfix && <span className=\"text-2xl align-top font-bold ml-1\">{postfix}</span>}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYO,SAAS,eAAe,EAAE,KAAK,EAAE,WAAW,IAAI,EAAE,SAAS,EAAE,EAAE,UAAU,EAAE,EAAE,YAAY,EAAE,EAAuB;IACvH,MAAM,WAAW,kDAAkB,eAAe,OAAO,UAAU,CAAC,sBAAsB,OAAO;IACjG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,sCAAW,0BAAQ;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,MAAM,IAAA,+MAAM,EAAkB;IAEpC,IAAA,kNAAS,EAAC;QACR;;QACA,MAAM,OAAO,IAAI,OAAO;QACxB,IAAI,CAAC,MAAM;QACX,IAAI,WAAwC;QAC5C,SAAS,gBAAgB,OAAoC;YAC3D,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE;gBAC7B,WAAW;gBACX,IAAI,UAAU,SAAS,UAAU;YACnC;QACF;QACA,WAAW,IAAI,OAAO,oBAAoB,CAAC,iBAAiB;YAAE,WAAW;QAAI;QAC7E,SAAS,OAAO,CAAC;QACjB,OAAO,IAAM,YAAY,SAAS,UAAU;IAC9C,GAAG;QAAC;KAAS;IAEb,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY,CAAC,SAAS;QAC1B,IAAI,YAA2B;QAC/B,SAAS,QAAQ,EAAU;YACzB,IAAI,CAAC,WAAW,YAAY;YAC5B,MAAM,WAAW,KAAK,GAAG,CAAC,CAAC,KAAK,SAAS,IAAI,UAAU;YACvD,MAAM,UAAU,KAAK,KAAK,CAAC,WAAW;YACtC,WAAW;YACX,IAAI,WAAW,GAAG;gBAChB,sBAAsB;YACxB,OAAO;gBACL,WAAW;YACb;QACF;QACA,sBAAsB;IACxB,GAAG;QAAC;QAAS;QAAO;QAAU;KAAS;IAEvC,qBACE,8OAAC;QAAK,KAAK;QAAK,WAAW;;YACxB;YACA;YACA,yBAAW,8OAAC;gBAAK,WAAU;0BAAqC;;;;;;;;;;;;AAGvE","debugId":null}}]
}