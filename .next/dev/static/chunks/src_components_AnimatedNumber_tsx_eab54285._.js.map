{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projectreact/upmap-nextjs/src/components/AnimatedNumber.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, useRef } from 'react';\r\n\r\ntype AnimatedNumberProps = {\r\n  value: number;\r\n  duration?: number;\r\n  suffix?: string;\r\n  postfix?: string;\r\n  className?: string;\r\n};\r\n\r\nexport function AnimatedNumber({ value, duration = 1800, suffix = '', postfix = '', className = '' }: AnimatedNumberProps) {\r\n  const isMobile = typeof window !== 'undefined' && window.matchMedia('(max-width: 767px)').matches;\r\n  const [display, setDisplay] = useState(isMobile ? value : 0);\r\n  const [started, setStarted] = useState(isMobile);\r\n  const ref = useRef<HTMLSpanElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (isMobile) return;\r\n    const node = ref.current;\r\n    if (!node) return;\r\n    let observer: IntersectionObserver | null = null;\r\n    function handleIntersect(entries: IntersectionObserverEntry[]) {\r\n      if (entries[0].isIntersecting) {\r\n        setStarted(true);\r\n        if (observer) observer.disconnect();\r\n      }\r\n    }\r\n    observer = new window.IntersectionObserver(handleIntersect, { threshold: 0.4 });\r\n    observer.observe(node);\r\n    return () => observer && observer.disconnect();\r\n  }, [isMobile]);\r\n\r\n  useEffect(() => {\r\n    if (isMobile || !started) return;\r\n    let startTime: number | null = null;\r\n    function animate(ts: number) {\r\n      if (!startTime) startTime = ts;\r\n      const progress = Math.min((ts - startTime) / duration, 1);\r\n      const current = Math.floor(progress * value);\r\n      setDisplay(current);\r\n      if (progress < 1) {\r\n        requestAnimationFrame(animate);\r\n      } else {\r\n        setDisplay(value);\r\n      }\r\n    }\r\n    requestAnimationFrame(animate);\r\n  }, [started, value, duration, isMobile]);\r\n\r\n  return (\r\n    <span ref={ref} className={className}>\r\n      {display}\r\n      {suffix}\r\n      {postfix && <span className=\"text-2xl align-top font-bold ml-1\">{postfix}</span>}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAYO,SAAS,eAAe,EAAE,KAAK,EAAE,WAAW,IAAI,EAAE,SAAS,EAAE,EAAE,UAAU,EAAE,EAAE,YAAY,EAAE,EAAuB;;IACvH,MAAM,WAAW,+CAAkB,eAAe,OAAO,UAAU,CAAC,sBAAsB,OAAO;IACjG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,WAAW,QAAQ;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,MAAM,IAAA,uKAAM,EAAkB;IAEpC,IAAA,0KAAS;oCAAC;YACR,IAAI,UAAU;YACd,MAAM,OAAO,IAAI,OAAO;YACxB,IAAI,CAAC,MAAM;YACX,IAAI,WAAwC;YAC5C,SAAS,gBAAgB,OAAoC;gBAC3D,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE;oBAC7B,WAAW;oBACX,IAAI,UAAU,SAAS,UAAU;gBACnC;YACF;YACA,WAAW,IAAI,OAAO,oBAAoB,CAAC,iBAAiB;gBAAE,WAAW;YAAI;YAC7E,SAAS,OAAO,CAAC;YACjB;4CAAO,IAAM,YAAY,SAAS,UAAU;;QAC9C;mCAAG;QAAC;KAAS;IAEb,IAAA,0KAAS;oCAAC;YACR,IAAI,YAAY,CAAC,SAAS;YAC1B,IAAI,YAA2B;YAC/B,SAAS,QAAQ,EAAU;gBACzB,IAAI,CAAC,WAAW,YAAY;gBAC5B,MAAM,WAAW,KAAK,GAAG,CAAC,CAAC,KAAK,SAAS,IAAI,UAAU;gBACvD,MAAM,UAAU,KAAK,KAAK,CAAC,WAAW;gBACtC,WAAW;gBACX,IAAI,WAAW,GAAG;oBAChB,sBAAsB;gBACxB,OAAO;oBACL,WAAW;gBACb;YACF;YACA,sBAAsB;QACxB;mCAAG;QAAC;QAAS;QAAO;QAAU;KAAS;IAEvC,qBACE,6LAAC;QAAK,KAAK;QAAK,WAAW;;YACxB;YACA;YACA,yBAAW,6LAAC;gBAAK,WAAU;0BAAqC;;;;;;;;;;;;AAGvE;GA9CgB;KAAA","debugId":null}}]
}